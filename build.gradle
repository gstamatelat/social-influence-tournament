apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'eclipse'

version = 1.6

allprojects {
    sourceCompatibility = 1.8
    targetCompatibility = 1.8
}

sourceSets {
    main {
        java {
            srcDir 'src/java'
        }
        resources {
            srcDir 'src/resources'
        }
    }
}

repositories {
    mavenCentral()
    maven {
        url "https://jitpack.io"
    }
}

dependencies {
    compile 'com.github.gstamatelat:social-influence:1a9fa35496'
}

jar {
    manifest {
        attributes 'Main-Class': 'gr.james.socialinfluence.tournament.TournamentMain'
    }
    from {
        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
    }
}

task projectZip(type: Zip) {
    from projectDir
    include 'src/**/*'
    include 'gradle/**/*'
    include 'README.md'
    include 'CHANGELOG.md'
    include 'build.gradle'
    include 'gradlew'
    include 'gradlew.bat'
}

idea {
    module {
        downloadSources = true
        downloadJavadoc = true
    }
}

eclipse {
    classpath {
        downloadSources = true
        downloadJavadoc = true
    }
}
