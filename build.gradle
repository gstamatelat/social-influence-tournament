apply plugin: 'java'
apply plugin: 'application'
apply plugin: 'idea'
apply plugin: 'eclipse'

version = 1.6

mainClassName = "gr.james.socialinfluence.tournament.TournamentMain"
applicationDefaultJvmArgs = ["-Dapp.env=tournament"]

repositories {
    mavenCentral()
    maven {
        url "https://jitpack.io"
    }
}

dependencies {
    compile 'com.github.gstamatelat:social-influence:13f0ef4fbe',
            'net.sf.jopt-simple:jopt-simple:4.9'
    runtime 'org.codehaus.groovy:groovy-all:2.4.4'
}

sourceSets {
    main {
        java {
            srcDir 'src/java'
        }
        resources {
            srcDir 'src/resources'
        }
    }
}

allprojects {
    sourceCompatibility = 1.8
    targetCompatibility = 1.8
}

task srcZip(type: Zip, group: 'distribution') {
    classifier = 'src'
    from projectDir
    into('social-influence-tournament')
    include 'src/**/*'
    include 'gradle/**/*'
    include 'README.md'
    include 'CHANGELOG.md'
    include 'build.gradle'
    include 'gradlew'
    include 'gradlew.bat'
}
build.dependsOn srcZip

idea {
    module {
        downloadSources = true
        downloadJavadoc = true
    }
}

eclipse {
    classpath {
        downloadSources = true
        downloadJavadoc = true
    }
}
